const mongoose = require('mongoose');
const path = require('path');

// Change to backend directory
process.chdir(path.join(__dirname, '..'));

// Load models
const Hotel = require('./models/Hotel');

const lamarParkResort = {
  name: 'ููุชุฌุน ูุงูุงุฑ ุจุงุฑู',
  type: 'resort',
  location: 'ุงูุฑูุงุถุ ุงูููููุฉ ุงูุนุฑุจูุฉ ุงูุณุนูุฏูุฉ',
  address: {
    street: 'ุดุงุฑุน ุงูููู ููุฏุ ุญู ุงูููู ููุฏ',
    city: 'ุงูุฑูุงุถ',
    country: 'ุงูููููุฉ ุงูุนุฑุจูุฉ ุงูุณุนูุฏูุฉ',
    zipCode: '12345'
  },
  description: 'ููุชุฌุน ูุงูุงุฑ ุจุงุฑู ูู ูุฌูุฉ ูุงุฎุฑุฉ ูู ููุจ ุงูุฑูุงุถุ ูููุฑ ุชุฌุฑุจุฉ ุฅูุงูุฉ ูุชููุฒุฉ ูุน ุฌููุน ุงูุฎุฏูุงุช ูุงููุฑุงูู ุงูุญุฏูุซุฉ. ูุชููุฒ ุงูููุชุฌุน ุจูููุนู ุงููุชููุฒ ูุชุตูููู ุงูุนุตุฑู ุงูุฐู ูุฌูุน ุจูู ุงููุฎุงูุฉ ูุงูุฑุงุญุฉ.',
  shortDescription: 'ููุชุฌุน ูุงุฎุฑ ูู ููุจ ุงูุฑูุงุถ ูุน ุฎุฏูุงุช ูุชููุฒุฉ',
  images: [
    {
      url: 'https://images.unsplash.com/photo-1566073771259-6a8506099945?w=1200',
      alt: 'ููุชุฌุน ูุงูุงุฑ ุจุงุฑู ุงูุฑุฆูุณู',
      isMain: true
    },
    {
      url: 'https://images.unsplash.com/photo-1571896349842-33c89424de2d?w=1200',
      alt: 'ููุชุฌุน ูุงูุงุฑ ุจุงุฑู - ุงููุณุจุญ',
      isMain: false
    },
    {
      url: 'https://images.unsplash.com/photo-1582719478250-c89cae4dc85b?w=1200',
      alt: 'ููุชุฌุน ูุงูุงุฑ ุจุงุฑู - ุงูุบุฑู',
      isMain: false
    }
  ],
  rating: 4.8,
  reviewCount: 150,
  status: 'active',
  isFeatured: true,
  contact: {
    phone: '+966501234567',
    email: 'info@lamarpark.sa',
    whatsapp: '+966501234567'
  },
  stats: {
    totalRooms: 50,
    totalChalets: 20,
    occupancyRate: 85,
    averageRating: 4.8
  },
  features: [
    'ูุงู ูุงู ูุฌุงูู',
    'ูููู ุณูุงุฑุงุช ูุฌุงูู',
    'ูุทุนู ูุงุฎุฑ',
    'ุตุงูุฉ ุฑูุงุถูุฉ',
    'ูุณุจุญ ุฎุงุฑุฌู',
    'ุฎุฏูุฉ ุงูุบุฑู 24/7',
    'ูุงุฏู ุตุญู',
    'ููุทูุฉ ุฃุทูุงู'
  ],
  amenities: [
    {
      title: 'ูุงู ูุงู ูุฌุงูู',
      body: 'ุฅูุชุฑูุช ุนุงูู ุงูุณุฑุนุฉ ูู ุฌููุน ุฃูุญุงุก ุงูููุชุฌุน',
      icon: '๐ถ',
      category: 'general'
    },
    {
      title: 'ูููู ุณูุงุฑุงุช',
      body: 'ูููู ุณูุงุฑุงุช ูุฌุงูู ููุคูู ูุฌููุน ุงูุถููู',
      icon: '๐',
      category: 'transportation'
    },
    {
      title: 'ูุทุนู ูุงุฎุฑ',
      body: 'ูุทุนู ููุฏู ุฃุดูู ุงูุฃุทุจุงู ุงููุญููุฉ ูุงูุนุงูููุฉ',
      icon: '๐ฝ๏ธ',
      category: 'dining'
    },
    {
      title: 'ุตุงูุฉ ุฑูุงุถูุฉ',
      body: 'ุตุงูุฉ ุฑูุงุถูุฉ ูุฌูุฒุฉ ุจุฃุญุฏุซ ุงูุฃุฌูุฒุฉ',
      icon: '๐ช',
      category: 'recreation'
    },
    {
      title: 'ูุณุจุญ ุฎุงุฑุฌู',
      body: 'ูุณุจุญ ุฎุงุฑุฌู ูุน ุฅุทูุงูุฉ ุฎูุงุจุฉ',
      icon: '๐โโ๏ธ',
      category: 'recreation'
    },
    {
      title: 'ุฎุฏูุฉ ุงูุบุฑู',
      body: 'ุฎุฏูุฉ ุงูุบุฑู ูุชุงุญุฉ ุนูู ูุฏุงุฑ ุงูุณุงุนุฉ',
      icon: '๐๏ธ',
      category: 'general'
    },
    {
      title: 'ูุงุฏู ุตุญู',
      body: 'ูุงุฏู ุตุญู ูุน ุฎุฏูุงุช ุงูุชุฏููู ูุงูุณุจุง',
      icon: '๐งโโ๏ธ',
      category: 'recreation'
    },
    {
      title: 'ููุทูุฉ ุฃุทูุงู',
      body: 'ููุทูุฉ ุฃุทูุงู ุขููุฉ ููุฌูุฒุฉ',
      icon: '๐ถ',
      category: 'recreation'
    }
  ],
  policies: {
    checkIn: '15:00',
    checkOut: '12:00',
    cancellation: 'ุฅูุบุงุก ูุฌุงูู ุญุชู 24 ุณุงุนุฉ ูุจู ุงููุตูู',
    pets: true,
    smoking: false,
    children: 'ุงูุฃุทูุงู ูู ุฌููุน ุงูุฃุนูุงุฑ ูุฑุญุจ ุจูู'
  },
  bookingSettings: {
    minStay: 1,
    maxStay: 30,
    advanceBooking: 365,
    sameDayBooking: true
  }
};

async function createLamarParkResort() {
  try {
    const mongoUri = process.env.MONGO_URI || process.env.MONGODB_URI || 'mongodb://127.0.0.1:27017/lamarPark';
    await mongoose.connect(mongoUri);
    console.log('Connected to MongoDB');

    // Check if Lamar Park resort already exists
    const existingResort = await Hotel.findOne({ 
      name: { $regex: /(ูุงูุงุฑ\s*ุจุงุฑู|Lamar\s*Park)/i } 
    });

    if (existingResort) {
      console.log('ููุชุฌุน ูุงูุงุฑ ุจุงุฑู ููุฌูุฏ ุจุงููุนู:', existingResort._id);
      
      // Update existing resort with new data
      const updatedResort = await Hotel.findByIdAndUpdate(
        existingResort._id,
        { ...lamarParkResort, _id: existingResort._id },
        { new: true }
      );
      console.log('ุชู ุชุญุฏูุซ ููุชุฌุน ูุงูุงุฑ ุจุงุฑู:', updatedResort._id);
    } else {
      // Create new resort
      const newResort = new Hotel(lamarParkResort);
      const savedResort = await newResort.save();
      console.log('ุชู ุฅูุดุงุก ููุชุฌุน ูุงูุงุฑ ุจุงุฑู:', savedResort._id);
    }

    console.log('ุชู ุงูุงูุชูุงุก ุจูุฌุงุญ!');
    process.exit(0);
  } catch (error) {
    console.error('ุฎุทุฃ ูู ุฅูุดุงุก ููุชุฌุน ูุงูุงุฑ ุจุงุฑู:', error);
    process.exit(1);
  }
}

createLamarParkResort();

