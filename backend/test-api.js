const axios = require('axios');

const BASE_URL = 'http://localhost:5000/api';

// ุงุฎุชุจุงุฑ API endpoints
const testAPI = async () => {
  console.log('๐ ุจุฏุก ุงุฎุชุจุงุฑ API endpoints...\n');
  
  try {
    // ุงุฎุชุจุงุฑ ุฌูุจ ุงูููุงุฏู
    console.log('1๏ธโฃ ุงุฎุชุจุงุฑ ุฌูุจ ุงูููุงุฏู...');
    const hotelsResponse = await axios.get(`${BASE_URL}/hotels`);
    console.log('โ ุญุงูุฉ ุงูุงุณุชุฌุงุจุฉ:', hotelsResponse.status);
    console.log('๐ ุนุฏุฏ ุงูููุงุฏู:', hotelsResponse.data.hotels?.length || 0);
    
    // ุงุฎุชุจุงุฑ ุฌูุจ ุงูุบุฑู
    console.log('\n2๏ธโฃ ุงุฎุชุจุงุฑ ุฌูุจ ุงูุบุฑู...');
    const roomsResponse = await axios.get(`${BASE_URL}/rooms`);
    console.log('โ ุญุงูุฉ ุงูุงุณุชุฌุงุจุฉ:', roomsResponse.status);
    console.log('๐ ุนุฏุฏ ุงูุบุฑู:', roomsResponse.data.rooms?.length || 0);
    
    // ุงุฎุชุจุงุฑ ุฌูุจ ุงูุญุฌูุฒุงุช
    console.log('\n3๏ธโฃ ุงุฎุชุจุงุฑ ุฌูุจ ุญุฌูุฒุงุช ุงูุบุฑู...');
    const bookingsResponse = await axios.get(`${BASE_URL}/room-bookings`);
    console.log('โ ุญุงูุฉ ุงูุงุณุชุฌุงุจุฉ:', bookingsResponse.status);
    console.log('๐ ุนุฏุฏ ุงูุญุฌูุฒุงุช:', bookingsResponse.data.bookings?.length || 0);
    
    // ุงุฎุชุจุงุฑ ุฌูุจ ุงูุนูุงุฑุงุช (ุงูุดุงูููุงุช)
    console.log('\n4๏ธโฃ ุงุฎุชุจุงุฑ ุฌูุจ ุงูุนูุงุฑุงุช...');
    const propertiesResponse = await axios.get(`${BASE_URL}/properties`);
    console.log('โ ุญุงูุฉ ุงูุงุณุชุฌุงุจุฉ:', propertiesResponse.status);
    console.log('๐ ุนุฏุฏ ุงูุนูุงุฑุงุช:', propertiesResponse.data.properties?.length || 0);
    
    console.log('\n๐ ุชู ุงุฎุชุจุงุฑ ุฌููุน API endpoints ุจูุฌุงุญ!');
    
  } catch (error) {
    if (error.code === 'ECONNREFUSED') {
      console.log('โ ุงูุฎุงุฏู ุบูุฑ ูุชุงุญ. ุชุฃูุฏ ูู ุชุดุบูู ุงูุฎุงุฏู ุฃููุงู:');
      console.log('   cd backend && npm run dev');
    } else {
      console.log('โ ุฎุทุฃ ูู API:', error.message);
      if (error.response) {
        console.log('๐ ุญุงูุฉ ุงูุงุณุชุฌุงุจุฉ:', error.response.status);
        console.log('๐ ุฑุณุงูุฉ ุงูุฎุทุฃ:', error.response.data);
      }
    }
  }
};

// ุชุดุบูู ุงูุงุฎุชุจุงุฑ
testAPI();












